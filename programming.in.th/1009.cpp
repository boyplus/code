#include <stdio.h>
#include <string.h>
#include <iostream>
using namespace std;
int main()
{
    int n1,n2,i,j,k=0,fre=1;
    long long num1=0,num2=0;
    scanf("%d%d",&n1,&n2);
    char str1[3][40],str2[3][40],string1[n1],string2[n2];
    scanf("%*c");
    for(i=0;i<3;i++)
        gets(str1[i]);
    int length_1 = strlen(str1[2]);
    for(i=0;i<3;i++)
    {
        for(j=0;j<length_1;j++)
            if(str1[i][j] != '|' && str1[i][j]!='_')
                str1[i][j] = '+';
    }
    for(i=0;i<3;i++)
        gets(str2[i]);
    int length_2 = strlen(str2[2]);
    for(i=0;i<3;i++)
    {
        for(j=0;j<length_2;j++)
            if(str2[i][j] != '|' && str2[i][j]!='_')
                str2[i][j] = '+';
    }
    for(i=0;i<length_1;i+=4)
    {
        if(str1[0][i] == '+' && str1[0][i+1] == '+' && str1[0][i+2] == '+'
        && str1[1][i] == '+' && str1[1][i+1] == '+' && str1[1][i+2] == '|'
        && str1[2][i] == '+' && str1[2][i+1] == '+' && str1[2][i+2] == '|')
            string1[k] = '1';
        if(str1[0][i] == '+' && str1[0][i+1] == '_' && str1[0][i+2] == '+'
        && str1[1][i] == '+' && str1[1][i+1] == '_' && str1[1][i+2] == '|'
        && str1[2][i] == '|' && str1[2][i+1] == '_' && str1[2][i+2] == '+')
            string1[k] = '2';
        if(str1[0][i] == '+' && str1[0][i+1] == '_' && str1[0][i+2] == '+'
        && str1[1][i] == '+' && str1[1][i+1] == '_' && str1[1][i+2] == '|'
        && str1[2][i] == '+' && str1[2][i+1] == '_' && str1[2][i+2] == '|')
            string1[k] = '3';
        if(str1[0][i] == '+' && str1[0][i+1] == '+' && str1[0][i+2] == '+'
        && str1[1][i] == '|' && str1[1][i+1] == '_' && str1[1][i+2] == '|'
        && str1[2][i] == '+' && str1[2][i+1] == '+' && str1[2][i+2] == '|')
            string1[k] = '4';
        if(str1[0][i] == '+' && str1[0][i+1] == '_' && str1[0][i+2] == '+'
        && str1[1][i] == '|' && str1[1][i+1] == '_' && str1[1][i+2] == '+'
        && str1[2][i] == '+' && str1[2][i+1] == '_' && str1[2][i+2] == '|')
            string1[k] = '5';
        if(str1[0][i] == '+' && str1[0][i+1] == '_' && str1[0][i+2] == '+'
        && str1[1][i] == '|' && str1[1][i+1] == '_' && str1[1][i+2] == '+'
        && str1[2][i] == '|' && str1[2][i+1] == '_' && str1[2][i+2] == '|')
            string1[k] = '6';
        if(str1[0][i] == '+' && str1[0][i+1] == '_' && str1[0][i+2] == '+'
        && str1[1][i] == '+' && str1[1][i+1] == '+' && str1[1][i+2] == '|'
        && str1[2][i] == '+' && str1[2][i+1] == '+' && str1[2][i+2] == '|')
            string1[k] = '7';
         if(str1[0][i] == '+' && str1[0][i+1] == '_' && str1[0][i+2] == '+'
        && str1[1][i] == '|' && str1[1][i+1] == '_' && str1[1][i+2] == '|'
        && str1[2][i] == '|' && str1[2][i+1] == '_' && str1[2][i+2] == '|')
            string1[k] = '8';
        if(str1[0][i] == '+' && str1[0][i+1] == '_' && str1[0][i+2] == '+'
        && str1[1][i] == '|' && str1[1][i+1] == '_' && str1[1][i+2] == '|'
        && str1[2][i] == '+' && str1[2][i+1] == '_' && str1[2][i+2] == '|')
            string1[k] = '9';
         if(str1[0][i] == '+' && str1[0][i+1] == '_' && str1[0][i+2] == '+'
        && str1[1][i] == '|' && str1[1][i+1] == '+' && str1[1][i+2] == '|'
        && str1[2][i] == '|' && str1[2][i+1] == '_' && str1[2][i+2] == '|')
            string1[k] = '0';
        k++;
    }
    k=0;
    for(i=0;i<length_2;i+=4)
    {
        if(str2[0][i] == '+' && str2[0][i+1] == '+' && str2[0][i+2] == '+'
        && str2[1][i] == '+' && str2[1][i+1] == '+' && str2[1][i+2] == '|'
        && str2[2][i] == '+' && str2[2][i+1] == '+' && str2[2][i+2] == '|')
            string2[k] = '1';
        if(str2[0][i] == '+' && str2[0][i+1] == '_' && str2[0][i+2] == '+'
        && str2[1][i] == '+' && str2[1][i+1] == '_' && str2[1][i+2] == '|'
        && str2[2][i] == '|' && str2[2][i+1] == '_' && str2[2][i+2] == '+')
            string2[k] = '2';
        if(str2[0][i] == '+' && str2[0][i+1] == '_' && str2[0][i+2] == '+'
        && str2[1][i] == '+' && str2[1][i+1] == '_' && str2[1][i+2] == '|'
        && str2[2][i] == '+' && str2[2][i+1] == '_' && str2[2][i+2] == '|')
            string2[k] = '3';
        if(str2[0][i] == '+' && str2[0][i+1] == '+' && str2[0][i+2] == '+'
        && str2[1][i] == '|' && str2[1][i+1] == '_' && str2[1][i+2] == '|'
        && str2[2][i] == '+' && str2[2][i+1] == '+' && str2[2][i+2] == '|')
            string2[k] = '4';
        if(str2[0][i] == '+' && str2[0][i+1] == '_' && str2[0][i+2] == '+'
        && str2[1][i] == '|' && str2[1][i+1] == '_' && str2[1][i+2] == '+'
        && str2[2][i] == '+' && str2[2][i+1] == '_' && str2[2][i+2] == '|')
            string2[k] = '5';
        if(str2[0][i] == '+' && str2[0][i+1] == '_' && str2[0][i+2] == '+'
        && str2[1][i] == '|' && str2[1][i+1] == '_' && str2[1][i+2] == '+'
        && str2[2][i] == '|' && str2[2][i+1] == '_' && str2[2][i+2] == '|')
            string2[k] = '6';
        if(str2[0][i] == '+' && str2[0][i+1] == '_' && str2[0][i+2] == '+'
        && str2[1][i] == '+' && str2[1][i+1] == '+' && str2[1][i+2] == '|'
        && str2[2][i] == '+' && str2[2][i+1] == '+' && str2[2][i+2] == '|')
            string2[k] = '7';
         if(str2[0][i] == '+' && str2[0][i+1] == '_' && str2[0][i+2] == '+'
        && str2[1][i] == '|' && str2[1][i+1] == '_' && str2[1][i+2] == '|'
        && str2[2][i] == '|' && str2[2][i+1] == '_' && str2[2][i+2] == '|')
            string2[k] = '8';
        if(str2[0][i] == '+' && str2[0][i+1] == '_' && str2[0][i+2] == '+'
        && str2[1][i] == '|' && str2[1][i+1] == '_' && str2[1][i+2] == '|'
        && str2[2][i] == '+' && str2[2][i+1] == '_' && str2[2][i+2] == '|')
            string2[k] = '9';
         if(str2[0][i] == '+' && str2[0][i+1] == '_' && str2[0][i+2] == '+'
        && str2[1][i] == '|' && str2[1][i+1] == '+' && str2[1][i+2] == '|'
        && str2[2][i] == '|' && str2[2][i+1] == '_' && str2[2][i+2] == '|')
            string2[k] = '0';
        k++;
    }
    for(i=n1-1;i>=0;i--,fre*=10)
        num1 = num1+((string1[i]-48)*fre);
    fre=1;
    for(i=n2-1;i>=0;i--,fre*=10)
        num2 = num2+((string2[i]-48)*fre);
    cout << num1+num2;
    return 0;
}
